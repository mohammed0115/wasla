<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>تأكيد الرمز | وصلة</title>
    <link rel="stylesheet" href="css/theme.css" />
    <meta name="color-scheme" content="light dark" />
  </head>
  <body>
    <div class="page">
      <header class="topbar" aria-label="Top bar">
        <a class="brand" href="index.html" aria-label="Wasla">
          <span class="brand-badge" aria-hidden="true">و</span>
          <span class="brand-title">
            <span>وصلة</span>
            <small>تأكيد الحساب</small>
          </span>
        </a>
        <div class="toolbar">
          <button class="icon-btn" id="themeToggle" type="button" aria-label="تبديل الوضع الليلي">
            <span id="themeIcon" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path
                  d="M21 14.5A8.5 8.5 0 1 1 9.5 3a6.7 6.7 0 0 0 11.5 11.5Z"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </span>
          </button>
        </div>
      </header>

      <main class="container">
        <section class="card" aria-label="OTP verification card">
          <div class="card-header">
            <h1 class="title">تأكيد رقم الجوال</h1>
            <p class="subtitle">
              تم إرسال رمز التحقق إلى رقمك
              <strong id="maskedPhone" dir="ltr"></strong>
            </p>
          </div>

          <div class="card-body">
            <div class="alert" id="otpAlert" role="alert" aria-live="polite"></div>

            <form id="verifyForm" novalidate>
              <div class="field" id="fieldOtp">
                <label class="label" for="otp-0">رمز التحقق (6 أرقام)</label>
                <div class="otp" id="otpGroup" aria-label="OTP inputs">
                  <input id="otp-0" inputmode="numeric" maxlength="1" autocomplete="one-time-code" />
                  <input id="otp-1" inputmode="numeric" maxlength="1" />
                  <input id="otp-2" inputmode="numeric" maxlength="1" />
                  <input id="otp-3" inputmode="numeric" maxlength="1" />
                  <input id="otp-4" inputmode="numeric" maxlength="1" />
                  <input id="otp-5" inputmode="numeric" maxlength="1" />
                </div>
                <div class="help">للتجربة: استخدم الرمز <code dir="ltr">123456</code>.</div>
                <div class="error" id="otpError">أدخل رمزًا صحيحًا مكونًا من 6 أرقام.</div>
              </div>

              <div class="row two">
                <div class="field">
                  <div class="label">الوقت المتبقي</div>
                  <div class="input" style="display:flex;align-items:center;justify-content:center;gap:8px;">
                    <span class="muted">إعادة الإرسال خلال:</span>
                    <strong id="timerText" dir="ltr">01:00</strong>
                  </div>
                </div>
                <div class="field">
                  <div class="label">لم يصلك الرمز؟</div>
                  <button class="btn btn-secondary" id="resendBtn" type="button" disabled>
                    إعادة إرسال الرمز
                  </button>
                </div>
              </div>

              <div class="actions">
                <button class="btn btn-primary" id="verifyBtn" type="submit">
                  <span class="spinner" aria-hidden="true"></span>
                  <span class="btn-text">تحقق</span>
                </button>
                <a class="btn btn-secondary" href="index.html">تغيير الرقم / الرجوع</a>
              </div>
            </form>
          </div>

          <div class="footer">
            <span>نصيحة:</span>
            <span>لو تأخر الرمز، انتظر انتهاء العداد ثم اضغط “إعادة إرسال”.</span>
          </div>
        </section>
      </main>
    </div>

    <script src="js/verify.js" defer></script>
  </body>
</html>
